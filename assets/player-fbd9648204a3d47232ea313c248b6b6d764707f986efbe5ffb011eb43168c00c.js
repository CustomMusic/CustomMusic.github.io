function playSong(e,t,i){function a(){p=$("#jp_container_1 div.jp-progress").offset().left,l=$("#jp_container_1 div.jp-progress").position().left,o=$("#jp_container_1 div.jp-progress").width()}function r(){y.animate({left:""+(c-_)+"px"},{duration:(_-c)/3*1e3,complete:function(){u=setTimeout(n,2e3)}})}function n(){y.animate({left:"0px"},{duration:(_-c)/30*1e3,complete:function(){u=setTimeout(r,2e3)}})}player_initialized||$("#playerBox").show();var p,l,o;a();var s=$("#jp_container_1 div.jp-scrub"),j=!1;player_initialized?($("#jquery_jplayer_1").jPlayer("setMedia",{mp3:e}).jPlayer("play"),$("#jp_container_1 div.jp-progress img.waveform").attr("src",i)):($("#jquery_jplayer_1").jPlayer({ready:function(){$(this).jPlayer("setMedia",{mp3:e}).jPlayer("play"),$("#jp_container_1 div.jp-progress img.waveform").attr("src",i)},swfPath:swf_asset_path,supplied:"mp3",solution:"flash,html"}),$("#jp_container_1 div.jp-scrub").draggable({axis:"x",containment:[p,15,p+o,15],scroll:!1,start:function(){j=!0},stop:function(e,t){var i=Math.round((t.position.left-l)/o*100);$("#jquery_jplayer_1").jPlayer("playHead",i),j=!1}}),player_initialized=!0),$("#jquery_jplayer_1").bind($.jPlayer.event.error,function(){}),$("#jquery_jplayer_1").bind($.jPlayer.event.timeupdate,function(e){if(!j){l||a();var t=Math.round(l+o*e.jPlayer.status.currentPercentAbsolute/100);s.css({left:""+t+"px"})}}),$("#jp_container_1 .jp-title ul li").html(t);var u,_=$("#jp_container_1 .jp-title ul li").width(),c=$("#jp_container_1 .jp-title ul").width(),y=$("#jp_container_1 .jp-title ul li");u&&clearTimeout(u),y.stop().finish().css({left:"0px"}),_>c&&(u=setTimeout(r,2e3))}function stopSong(){$("#jquery_jplayer_1").jPlayer("pause")}var player_initialized=!1;$(document).on("page:change",function(){player_initialized=!1});